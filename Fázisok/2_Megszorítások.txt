Tervezzen az adatbázis-modellhez megszorításokat. 
A normalizálás befejeztével tervezze meg az egyes 
relációsémákhoz tartozó táblákat az adattípusaival
és megszorításaival együtt. 
Térjen ki az egyes bevezetett megszorítások in-doklására is.


DROP TABLE Lakók;
CREATE TABLE Lakók (
	Név							VARCHAR2(30),
	Egészségbiztosítási_szám	VARCHAR2(9),
	SzületésiDátum				DATE,
	Nem							CHAR(1) CHECK( Nem IN ('f','n') ),
	Személyigazolvány_szám		VARCHAR2(11) UNIQUE,
	Tartózkodas_tól				DATE,
	Tartózkodas_ig				DATE,
	Ország						VARCHAR2(50),
	ház_szám					NUMBER(4),
	Csoport_név					VARCHAR2(50),
	Csoportvezető				VARCHAR2(30)
)

ALTER TABLE Lakók ADD CONSTANT p_Lakók PRIMARY KEY (Név,Egészségbiztosítási_szám);

Lakók táblában lévő megszorítások:
	Elsődleges kulcs:
		Név, és Egészségbiztosítási_szám, együttese
	Idegen kulcs megszorítás:
		-A csoport_név és csoportvezető együttese, idegen kulcs a Csoportok táblára
		-A ház_szám mező idegen kulcs a Házak táblára
	UNIQUE:
		Személyigazolvány szám - ha ebből több azonos is van, akkor az hibátjelent
	CHECK:
		Nem - ellenőrzi, hogy csak f, mint férfi, vagy n, mint nő szerepelhessen értékként
	


DROP TABLE Csoportok;
CREATE TABLE Csoportok(
	csoport_név			VARCHAR2(50),
	csoportvezető		VARCHAR2(30),
	csoport_pontszám	INTEGER
)

DROP TABLE Házak;
CREATE TABLE Házak (
	ház_szám		NUMBER(4),
	ház_megnevezés	VARCHAR2(25) NOT NULL,
	férőhely_szám	NUMBER(4)
)

ALTER TABLE Lakók ADD CONSTANT p_Lakók PRIMARY KEY (Név,Egészségbiztosítási_szám);
ALTER TABLE Csoportok ADD CONSTANT p_Csoportok PRIMARY KEY (csoport_név,csoportvezető);
ALTER TABLE Házak ADD CONSTANT p_Házak PRIMARY KEY (ház_szám)

ALTER TABLE Lakók ADD CONSTANT f_Lakók_Csoportok FOREIGN KEY (Csoport_név,Csoportvezető)
	REFERENCES Csoportok (Csoport_név,Csoportvezető);
	
ALTER TABLE Lakók ADD CONSTANT f_Lakók_Házak FOREIGN KEY (ház_szám)
	REFERENCES Házak (ház_szám);